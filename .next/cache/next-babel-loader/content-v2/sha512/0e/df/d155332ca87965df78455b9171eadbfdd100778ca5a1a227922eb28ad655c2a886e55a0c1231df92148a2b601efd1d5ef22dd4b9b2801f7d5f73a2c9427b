{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect } from 'react';\nimport { useUI } from '@components/ui/context';\nimport { getRandomPairOfColors } from '@lib/colors';\nexport var useUserAvatar = function useUserAvatar() {\n  _s();\n\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'userAvatar';\n\n  var _useUI = useUI(),\n      userAvatar = _useUI.userAvatar,\n      setUserAvatar = _useUI.setUserAvatar;\n\n  useEffect(function () {\n    if (!userAvatar && localStorage.getItem(name)) {\n      // Get bg from localStorage and push it to the context.\n      setUserAvatar(localStorage.getItem(name));\n    }\n\n    if (!localStorage.getItem(name)) {\n      // bg not set locally, generating one, setting localStorage and context to persist.\n      var bg = getRandomPairOfColors();\n      var value = \"linear-gradient(140deg, \".concat(bg[0], \", \").concat(bg[1], \" 100%)\");\n      localStorage.setItem(name, value);\n      setUserAvatar(value);\n    }\n  }, []);\n  return {\n    userAvatar: userAvatar,\n    setUserAvatar: setUserAvatar\n  };\n};\n\n_s(useUserAvatar, \"y0DGiShFOwH4vqXLif8eqtaUdUI=\", false, function () {\n  return [useUI];\n});","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/lib/hooks/useUserAvatar.ts"],"names":["useEffect","useUI","getRandomPairOfColors","useUserAvatar","name","userAvatar","setUserAvatar","localStorage","getItem","bg","value","setItem"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,qBAAT,QAAsC,aAAtC;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAyB;AAAA;;AAAA,MAAxBC,IAAwB,uEAAjB,YAAiB;;AAAA,eACdH,KAAK,EADS;AAAA,MAC5CI,UAD4C,UAC5CA,UAD4C;AAAA,MAChCC,aADgC,UAChCA,aADgC;;AAGpDN,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACK,UAAD,IAAeE,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAnB,EAA+C;AAC7C;AACAE,MAAAA,aAAa,CAACC,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAD,CAAb;AACD;;AACD,QAAI,CAACG,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAL,EAAiC;AAC/B;AACA,UAAMK,EAAE,GAAGP,qBAAqB,EAAhC;AACA,UAAMQ,KAAK,qCAA8BD,EAAE,CAAC,CAAD,CAAhC,eAAwCA,EAAE,CAAC,CAAD,CAA1C,WAAX;AACAF,MAAAA,YAAY,CAACI,OAAb,CAAqBP,IAArB,EAA2BM,KAA3B;AACAJ,MAAAA,aAAa,CAACI,KAAD,CAAb;AACD;AACF,GAZQ,EAYN,EAZM,CAAT;AAcA,SAAO;AACLL,IAAAA,UAAU,EAAVA,UADK;AAELC,IAAAA,aAAa,EAAbA;AAFK,GAAP;AAID,CArBM;;GAAMH,a;UAC2BF,K","sourcesContent":["import { useEffect } from 'react'\nimport { useUI } from '@components/ui/context'\nimport { getRandomPairOfColors } from '@lib/colors'\n\nexport const useUserAvatar = (name = 'userAvatar') => {\n  const { userAvatar, setUserAvatar } = useUI()\n\n  useEffect(() => {\n    if (!userAvatar && localStorage.getItem(name)) {\n      // Get bg from localStorage and push it to the context.\n      setUserAvatar(localStorage.getItem(name))\n    }\n    if (!localStorage.getItem(name)) {\n      // bg not set locally, generating one, setting localStorage and context to persist.\n      const bg = getRandomPairOfColors()\n      const value = `linear-gradient(140deg, ${bg[0]}, ${bg[1]} 100%)`\n      localStorage.setItem(name, value)\n      setUserAvatar(value)\n    }\n  }, [])\n\n  return {\n    userAvatar,\n    setUserAvatar,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}