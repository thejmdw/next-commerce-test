{"ast":null,"code":"import _defineProperty from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/thejmdw/workspace/websites/next-commerce-test/components/common/I18nWidget/I18nWidget.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport cn from 'classnames';\nimport Link from 'next/link';\nimport { useState } from 'react';\nimport { useRouter } from 'next/router';\nimport s from './I18nWidget.module.css';\nimport { Cross, ChevronUp } from '@components/icons';\nimport ClickOutside from '@lib/click-outside';\nvar LOCALES_MAP = {\n  es: {\n    name: 'Español',\n    img: {\n      filename: 'flag-es-co.svg',\n      alt: 'Bandera Colombiana'\n    }\n  },\n  'en-US': {\n    name: 'English',\n    img: {\n      filename: 'flag-en-us.svg',\n      alt: 'US Flag'\n    }\n  }\n};\n\nvar I18nWidget = function I18nWidget() {\n  _s();\n\n  var _useState = useState(false),\n      display = _useState[0],\n      setDisplay = _useState[1];\n\n  var _useRouter = useRouter(),\n      locale = _useRouter.locale,\n      locales = _useRouter.locales,\n      _useRouter$defaultLoc = _useRouter.defaultLocale,\n      defaultLocale = _useRouter$defaultLoc === void 0 ? 'en-US' : _useRouter$defaultLoc,\n      currentPath = _useRouter.asPath;\n\n  var options = locales === null || locales === void 0 ? void 0 : locales.filter(function (val) {\n    return val !== locale;\n  });\n  var currentLocale = locale || defaultLocale;\n  return /*#__PURE__*/_jsxDEV(ClickOutside, {\n    active: display,\n    onClick: function onClick() {\n      return setDisplay(false);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: s.root,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center relative\",\n        onClick: function onClick() {\n          return setDisplay(!display);\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.button,\n          \"aria-label\": \"Language selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            width: \"20\",\n            height: \"20\",\n            className: \"block mr-2 w-5\",\n            src: \"/\".concat(LOCALES_MAP[currentLocale].img.filename),\n            alt: LOCALES_MAP[currentLocale].img.alt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, _this), options && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"cursor-pointer\",\n            children: /*#__PURE__*/_jsxDEV(ChevronUp, {\n              className: cn(_defineProperty({}, s.icon, display))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-0 right-0\",\n        children: options !== null && options !== void 0 && options.length && display ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.dropdownMenu,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-row justify-end px-6\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                return setDisplay(false);\n              },\n              \"aria-label\": \"Close panel\",\n              className: s.closeButton,\n              children: /*#__PURE__*/_jsxDEV(Cross, {\n                className: \"h-6 w-6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: options.map(function (locale) {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: currentPath,\n                  locale: locale,\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: cn(s.item),\n                    onClick: function onClick() {\n                      return setDisplay(false);\n                    },\n                    children: LOCALES_MAP[locale].name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 21\n                }, _this)\n              }, locale, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, _this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, _this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(I18nWidget, \"3fwLc6Rb46j0o8KHkM80zivNbmU=\", false, function () {\n  return [useRouter];\n});\n\n_c = I18nWidget;\nexport default I18nWidget;\n\nvar _c;\n\n$RefreshReg$(_c, \"I18nWidget\");","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/components/common/I18nWidget/I18nWidget.tsx"],"names":["cn","Link","useState","useRouter","s","Cross","ChevronUp","ClickOutside","LOCALES_MAP","es","name","img","filename","alt","I18nWidget","display","setDisplay","locale","locales","defaultLocale","currentPath","asPath","options","filter","val","currentLocale","root","button","icon","length","dropdownMenu","closeButton","map","item"],"mappings":"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","sourcesContent":["import cn from 'classnames'\nimport Link from 'next/link'\nimport { FC, useState } from 'react'\nimport { useRouter } from 'next/router'\nimport s from './I18nWidget.module.css'\nimport { Cross, ChevronUp } from '@components/icons'\nimport ClickOutside from '@lib/click-outside'\ninterface LOCALE_DATA {\n  name: string\n  img: {\n    filename: string\n    alt: string\n  }\n}\n\nconst LOCALES_MAP: Record<string, LOCALE_DATA> = {\n  es: {\n    name: 'Español',\n    img: {\n      filename: 'flag-es-co.svg',\n      alt: 'Bandera Colombiana',\n    },\n  },\n  'en-US': {\n    name: 'English',\n    img: {\n      filename: 'flag-en-us.svg',\n      alt: 'US Flag',\n    },\n  },\n}\n\nconst I18nWidget: FC = () => {\n  const [display, setDisplay] = useState(false)\n  const {\n    locale,\n    locales,\n    defaultLocale = 'en-US',\n    asPath: currentPath,\n  } = useRouter()\n\n  const options = locales?.filter((val) => val !== locale)\n  const currentLocale = locale || defaultLocale\n\n  return (\n    <ClickOutside active={display} onClick={() => setDisplay(false)}>\n      <nav className={s.root}>\n        <div\n          className=\"flex items-center relative\"\n          onClick={() => setDisplay(!display)}\n        >\n          <button className={s.button} aria-label=\"Language selector\">\n            <img\n              width=\"20\"\n              height=\"20\"\n              className=\"block mr-2 w-5\"\n              src={`/${LOCALES_MAP[currentLocale].img.filename}`}\n              alt={LOCALES_MAP[currentLocale].img.alt}\n            />\n            {options && (\n              <span className=\"cursor-pointer\">\n                <ChevronUp className={cn({ [s.icon]: display })} />\n              </span>\n            )}\n          </button>\n        </div>\n        <div className=\"absolute top-0 right-0\">\n          {options?.length && display ? (\n            <div className={s.dropdownMenu}>\n              <div className=\"flex flex-row justify-end px-6\">\n                <button\n                  onClick={() => setDisplay(false)}\n                  aria-label=\"Close panel\"\n                  className={s.closeButton}\n                >\n                  <Cross className=\"h-6 w-6\" />\n                </button>\n              </div>\n              <ul>\n                {options.map((locale) => (\n                  <li key={locale}>\n                    <Link href={currentPath} locale={locale}>\n                      <a\n                        className={cn(s.item)}\n                        onClick={() => setDisplay(false)}\n                      >\n                        {LOCALES_MAP[locale].name}\n                      </a>\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ) : null}\n        </div>\n      </nav>\n    </ClickOutside>\n  )\n}\n\nexport default I18nWidget\n"]},"metadata":{},"sourceType":"module"}