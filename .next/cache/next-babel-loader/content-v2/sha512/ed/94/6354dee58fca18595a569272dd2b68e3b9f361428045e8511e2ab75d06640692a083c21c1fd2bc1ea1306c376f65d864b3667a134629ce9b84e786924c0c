{"ast":null,"code":"import { useEffect } from 'react';\nimport { useUI } from '@components/ui/context';\nimport { getRandomPairOfColors } from '@lib/colors';\nexport const useUserAvatar = (name = 'userAvatar') => {\n  const {\n    userAvatar,\n    setUserAvatar\n  } = useUI();\n  useEffect(() => {\n    if (!userAvatar && localStorage.getItem(name)) {\n      // Get bg from localStorage and push it to the context.\n      setUserAvatar(localStorage.getItem(name));\n    }\n\n    if (!localStorage.getItem(name)) {\n      // bg not set locally, generating one, setting localStorage and context to persist.\n      const bg = getRandomPairOfColors();\n      const value = `linear-gradient(140deg, ${bg[0]}, ${bg[1]} 100%)`;\n      localStorage.setItem(name, value);\n      setUserAvatar(value);\n    }\n  }, []);\n  return {\n    userAvatar,\n    setUserAvatar\n  };\n};","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/lib/hooks/useUserAvatar.ts"],"names":["useEffect","useUI","getRandomPairOfColors","useUserAvatar","name","userAvatar","setUserAvatar","localStorage","getItem","bg","value","setItem"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,qBAAT,QAAsC,aAAtC;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,IAAI,GAAG,YAAR,KAAyB;AACpD,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgCL,KAAK,EAA3C;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAACK,UAAD,IAAeE,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAnB,EAA+C;AAC7C;AACAE,MAAAA,aAAa,CAACC,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAD,CAAb;AACD;;AACD,QAAI,CAACG,YAAY,CAACC,OAAb,CAAqBJ,IAArB,CAAL,EAAiC;AAC/B;AACA,YAAMK,EAAE,GAAGP,qBAAqB,EAAhC;AACA,YAAMQ,KAAK,GAAI,2BAA0BD,EAAE,CAAC,CAAD,CAAI,KAAIA,EAAE,CAAC,CAAD,CAAI,QAAzD;AACAF,MAAAA,YAAY,CAACI,OAAb,CAAqBP,IAArB,EAA2BM,KAA3B;AACAJ,MAAAA,aAAa,CAACI,KAAD,CAAb;AACD;AACF,GAZQ,EAYN,EAZM,CAAT;AAcA,SAAO;AACLL,IAAAA,UADK;AAELC,IAAAA;AAFK,GAAP;AAID,CArBM","sourcesContent":["import { useEffect } from 'react'\nimport { useUI } from '@components/ui/context'\nimport { getRandomPairOfColors } from '@lib/colors'\n\nexport const useUserAvatar = (name = 'userAvatar') => {\n  const { userAvatar, setUserAvatar } = useUI()\n\n  useEffect(() => {\n    if (!userAvatar && localStorage.getItem(name)) {\n      // Get bg from localStorage and push it to the context.\n      setUserAvatar(localStorage.getItem(name))\n    }\n    if (!localStorage.getItem(name)) {\n      // bg not set locally, generating one, setting localStorage and context to persist.\n      const bg = getRandomPairOfColors()\n      const value = `linear-gradient(140deg, ${bg[0]}, ${bg[1]} 100%)`\n      localStorage.setItem(name, value)\n      setUserAvatar(value)\n    }\n  }, [])\n\n  return {\n    userAvatar,\n    setUserAvatar,\n  }\n}\n"]},"metadata":{},"sourceType":"module"}