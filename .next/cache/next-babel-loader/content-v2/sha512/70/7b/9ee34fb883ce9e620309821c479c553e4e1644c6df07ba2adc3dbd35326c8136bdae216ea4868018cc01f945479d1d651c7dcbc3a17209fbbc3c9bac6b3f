{"ast":null,"code":"import _classCallCheck from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _wrapNativeSuper from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper\";\nimport _defineProperty from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nexport var CommerceError = /*#__PURE__*/function (_Error) {\n  _inherits(CommerceError, _Error);\n\n  var _super = _createSuper(CommerceError);\n\n  function CommerceError(_ref) {\n    var _this;\n\n    var message = _ref.message,\n        code = _ref.code,\n        errors = _ref.errors;\n\n    _classCallCheck(this, CommerceError);\n\n    var error = message ? _objectSpread({\n      message: message\n    }, code ? {\n      code: code\n    } : {}) : errors[0];\n    _this = _super.call(this, error.message);\n\n    _defineProperty(_assertThisInitialized(_this), \"code\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"errors\", void 0);\n\n    _this.errors = message ? [error] : errors;\n    if (error.code) _this.code = error.code;\n    return _this;\n  }\n\n  return CommerceError;\n}( /*#__PURE__*/_wrapNativeSuper(Error)); // Used for errors that come from a bad implementation of the hooks\n\nexport var ValidationError = /*#__PURE__*/function (_CommerceError) {\n  _inherits(ValidationError, _CommerceError);\n\n  var _super2 = _createSuper(ValidationError);\n\n  function ValidationError(options) {\n    var _this2;\n\n    _classCallCheck(this, ValidationError);\n\n    _this2 = _super2.call(this, options);\n    _this2.code = 'validation_error';\n    return _this2;\n  }\n\n  return ValidationError;\n}(CommerceError);\nexport var FetcherError = /*#__PURE__*/function (_CommerceError2) {\n  _inherits(FetcherError, _CommerceError2);\n\n  var _super3 = _createSuper(FetcherError);\n\n  function FetcherError(options) {\n    var _this3;\n\n    _classCallCheck(this, FetcherError);\n\n    _this3 = _super3.call(this, options);\n\n    _defineProperty(_assertThisInitialized(_this3), \"status\", void 0);\n\n    _this3.status = options.status;\n    return _this3;\n  }\n\n  return FetcherError;\n}(CommerceError);","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/framework/commerce/utils/errors.ts"],"names":["CommerceError","message","code","errors","error","Error","ValidationError","options","FetcherError","status"],"mappings":";;;;;;;;;;;;;;;;AAYA,WAAaA,aAAb;AAAA;;AAAA;;AAIE,+BAAmD;AAAA;;AAAA,QAArCC,OAAqC,QAArCA,OAAqC;AAAA,QAA5BC,IAA4B,QAA5BA,IAA4B;AAAA,QAAtBC,MAAsB,QAAtBA,MAAsB;;AAAA;;AACjD,QAAMC,KAAgB,GAAGH,OAAO;AAC1BA,MAAAA,OAAO,EAAPA;AAD0B,OACbC,IAAI,GAAG;AAAEA,MAAAA,IAAI,EAAJA;AAAF,KAAH,GAAc,EADL,IAE5BC,MAAM,CAAE,CAAF,CAFV;AAIA,8BAAMC,KAAK,CAACH,OAAZ;;AALiD;;AAAA;;AAMjD,UAAKE,MAAL,GAAcF,OAAO,GAAG,CAACG,KAAD,CAAH,GAAaD,MAAlC;AAEA,QAAIC,KAAK,CAACF,IAAV,EAAgB,MAAKA,IAAL,GAAYE,KAAK,CAACF,IAAlB;AARiC;AASlD;;AAbH;AAAA,iCAAmCG,KAAnC,G,CAgBA;;AACA,WAAaC,eAAb;AAAA;;AAAA;;AACE,2BAAYC,OAAZ,EAAiC;AAAA;;AAAA;;AAC/B,gCAAMA,OAAN;AACA,WAAKL,IAAL,GAAY,kBAAZ;AAF+B;AAGhC;;AAJH;AAAA,EAAqCF,aAArC;AAOA,WAAaQ,YAAb;AAAA;;AAAA;;AAGE,wBACED,OADF,EAIE;AAAA;;AAAA;;AACA,gCAAMA,OAAN;;AADA;;AAEA,WAAKE,MAAL,GAAcF,OAAO,CAACE,MAAtB;AAFA;AAGD;;AAVH;AAAA,EAAkCT,aAAlC","sourcesContent":["export type ErrorData = {\n  message: string\n  code?: string\n}\n\nexport type ErrorProps = {\n  code?: string\n} & (\n  | { message: string; errors?: never }\n  | { message?: never; errors: ErrorData[] }\n)\n\nexport class CommerceError extends Error {\n  code?: string\n  errors: ErrorData[]\n\n  constructor({ message, code, errors }: ErrorProps) {\n    const error: ErrorData = message\n      ? { message, ...(code ? { code } : {}) }\n      : errors![0]\n\n    super(error.message)\n    this.errors = message ? [error] : errors!\n\n    if (error.code) this.code = error.code\n  }\n}\n\n// Used for errors that come from a bad implementation of the hooks\nexport class ValidationError extends CommerceError {\n  constructor(options: ErrorProps) {\n    super(options)\n    this.code = 'validation_error'\n  }\n}\n\nexport class FetcherError extends CommerceError {\n  status: number\n\n  constructor(\n    options: {\n      status: number\n    } & ErrorProps\n  ) {\n    super(options)\n    this.status = options.status\n  }\n}\n"]},"metadata":{},"sourceType":"module"}