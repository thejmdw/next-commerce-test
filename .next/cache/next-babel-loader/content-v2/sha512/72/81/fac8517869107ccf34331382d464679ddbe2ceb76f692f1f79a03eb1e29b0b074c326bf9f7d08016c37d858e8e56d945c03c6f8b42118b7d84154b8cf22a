{"ast":null,"code":"import React, { useRef, useEffect } from 'react';\nimport hasParent from './has-parent';\n\nconst ClickOutside = ({\n  active = true,\n  onClick,\n  children\n}) => {\n  const innerRef = useRef();\n\n  const handleClick = event => {\n    if (!hasParent(event.target, innerRef === null || innerRef === void 0 ? void 0 : innerRef.current)) {\n      if (typeof onClick === 'function') {\n        onClick(event);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (active) {\n      document.addEventListener('mousedown', handleClick);\n      document.addEventListener('touchstart', handleClick);\n    }\n\n    return () => {\n      if (active) {\n        document.removeEventListener('mousedown', handleClick);\n        document.removeEventListener('touchstart', handleClick);\n      }\n    };\n  });\n  return /*#__PURE__*/React.cloneElement(children, {\n    ref: innerRef\n  });\n};\n\nexport default ClickOutside;","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/lib/click-outside/click-outside.tsx"],"names":["React","useRef","useEffect","hasParent","ClickOutside","active","onClick","children","innerRef","handleClick","event","target","current","document","addEventListener","removeEventListener","cloneElement","ref"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAqD,OAArD;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAQA,MAAMC,YAAY,GAAG,CAAC;AACpBC,EAAAA,MAAM,GAAG,IADW;AAEpBC,EAAAA,OAFoB;AAGpBC,EAAAA;AAHoB,CAAD,KAII;AACvB,QAAMC,QAAQ,GAAGP,MAAM,EAAvB;;AAEA,QAAMQ,WAAW,GAAIC,KAAD,IAAgB;AAClC,QAAI,CAACP,SAAS,CAACO,KAAK,CAACC,MAAP,EAAeH,QAAf,aAAeA,QAAf,uBAAeA,QAAQ,CAAEI,OAAzB,CAAd,EAAiD;AAC/C,UAAI,OAAON,OAAP,KAAmB,UAAvB,EAAmC;AACjCA,QAAAA,OAAO,CAACI,KAAD,CAAP;AACD;AACF;AACF,GAND;;AAQAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIG,MAAJ,EAAY;AACVQ,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCL,WAAvC;AACAI,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCL,WAAxC;AACD;;AAED,WAAO,MAAM;AACX,UAAIJ,MAAJ,EAAY;AACVQ,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CN,WAA1C;AACAI,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CN,WAA3C;AACD;AACF,KALD;AAMD,GAZQ,CAAT;AAcA,sBAAOT,KAAK,CAACgB,YAAN,CAAmBT,QAAnB,EAA6B;AAAEU,IAAAA,GAAG,EAAET;AAAP,GAA7B,CAAP;AACD,CA9BD;;AAgCA,eAAeJ,YAAf","sourcesContent":["import React, { useRef, useEffect, MouseEvent } from 'react'\nimport hasParent from './has-parent'\n\ninterface ClickOutsideProps {\n  active: boolean\n  onClick: (e?: MouseEvent) => void\n  children: any\n}\n\nconst ClickOutside = ({\n  active = true,\n  onClick,\n  children,\n}: ClickOutsideProps) => {\n  const innerRef = useRef()\n\n  const handleClick = (event: any) => {\n    if (!hasParent(event.target, innerRef?.current)) {\n      if (typeof onClick === 'function') {\n        onClick(event)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (active) {\n      document.addEventListener('mousedown', handleClick)\n      document.addEventListener('touchstart', handleClick)\n    }\n\n    return () => {\n      if (active) {\n        document.removeEventListener('mousedown', handleClick)\n        document.removeEventListener('touchstart', handleClick)\n      }\n    }\n  })\n\n  return React.cloneElement(children, { ref: innerRef })\n}\n\nexport default ClickOutside\n"]},"metadata":{},"sourceType":"module"}