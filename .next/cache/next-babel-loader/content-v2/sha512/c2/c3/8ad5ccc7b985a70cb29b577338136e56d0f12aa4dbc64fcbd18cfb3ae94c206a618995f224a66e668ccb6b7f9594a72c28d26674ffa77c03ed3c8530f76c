{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport hasParent from './has-parent';\n\nvar ClickOutside = function ClickOutside(_ref) {\n  _s();\n\n  var _ref$active = _ref.active,\n      active = _ref$active === void 0 ? true : _ref$active,\n      onClick = _ref.onClick,\n      children = _ref.children;\n  var innerRef = useRef();\n\n  var handleClick = function handleClick(event) {\n    if (!hasParent(event.target, innerRef === null || innerRef === void 0 ? void 0 : innerRef.current)) {\n      if (typeof onClick === 'function') {\n        onClick(event);\n      }\n    }\n  };\n\n  useEffect(function () {\n    if (active) {\n      document.addEventListener('mousedown', handleClick);\n      document.addEventListener('touchstart', handleClick);\n    }\n\n    return function () {\n      if (active) {\n        document.removeEventListener('mousedown', handleClick);\n        document.removeEventListener('touchstart', handleClick);\n      }\n    };\n  });\n  return /*#__PURE__*/React.cloneElement(children, {\n    ref: innerRef\n  });\n};\n\n_s(ClickOutside, \"O+lDb3OxqiYoGgsGDFWmOAww4Jo=\");\n\n_c = ClickOutside;\nexport default ClickOutside;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClickOutside\");","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/lib/click-outside/click-outside.tsx"],"names":["React","useRef","useEffect","hasParent","ClickOutside","active","onClick","children","innerRef","handleClick","event","target","current","document","addEventListener","removeEventListener","cloneElement","ref"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAqD,OAArD;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAQA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAII;AAAA;;AAAA,yBAHvBC,MAGuB;AAAA,MAHvBA,MAGuB,4BAHd,IAGc;AAAA,MAFvBC,OAEuB,QAFvBA,OAEuB;AAAA,MADvBC,QACuB,QADvBA,QACuB;AACvB,MAAMC,QAAQ,GAAGP,MAAM,EAAvB;;AAEA,MAAMQ,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAgB;AAClC,QAAI,CAACP,SAAS,CAACO,KAAK,CAACC,MAAP,EAAeH,QAAf,aAAeA,QAAf,uBAAeA,QAAQ,CAAEI,OAAzB,CAAd,EAAiD;AAC/C,UAAI,OAAON,OAAP,KAAmB,UAAvB,EAAmC;AACjCA,QAAAA,OAAO,CAACI,KAAD,CAAP;AACD;AACF;AACF,GAND;;AAQAR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIG,MAAJ,EAAY;AACVQ,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,EAAuCL,WAAvC;AACAI,MAAAA,QAAQ,CAACC,gBAAT,CAA0B,YAA1B,EAAwCL,WAAxC;AACD;;AAED,WAAO,YAAM;AACX,UAAIJ,MAAJ,EAAY;AACVQ,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,EAA0CN,WAA1C;AACAI,QAAAA,QAAQ,CAACE,mBAAT,CAA6B,YAA7B,EAA2CN,WAA3C;AACD;AACF,KALD;AAMD,GAZQ,CAAT;AAcA,sBAAOT,KAAK,CAACgB,YAAN,CAAmBT,QAAnB,EAA6B;AAAEU,IAAAA,GAAG,EAAET;AAAP,GAA7B,CAAP;AACD,CA9BD;;GAAMJ,Y;;KAAAA,Y;AAgCN,eAAeA,YAAf","sourcesContent":["import React, { useRef, useEffect, MouseEvent } from 'react'\nimport hasParent from './has-parent'\n\ninterface ClickOutsideProps {\n  active: boolean\n  onClick: (e?: MouseEvent) => void\n  children: any\n}\n\nconst ClickOutside = ({\n  active = true,\n  onClick,\n  children,\n}: ClickOutsideProps) => {\n  const innerRef = useRef()\n\n  const handleClick = (event: any) => {\n    if (!hasParent(event.target, innerRef?.current)) {\n      if (typeof onClick === 'function') {\n        onClick(event)\n      }\n    }\n  }\n\n  useEffect(() => {\n    if (active) {\n      document.addEventListener('mousedown', handleClick)\n      document.addEventListener('touchstart', handleClick)\n    }\n\n    return () => {\n      if (active) {\n        document.removeEventListener('mousedown', handleClick)\n        document.removeEventListener('touchstart', handleClick)\n      }\n    }\n  })\n\n  return React.cloneElement(children, { ref: innerRef })\n}\n\nexport default ClickOutside\n"]},"metadata":{},"sourceType":"module"}