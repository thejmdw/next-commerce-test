{"ast":null,"code":"import _objectWithoutProperties from \"/Users/thejmdw/workspace/websites/next-commerce-test/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/thejmdw/workspace/websites/next-commerce-test/components/common/Layout/Layout.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport cn from 'classnames';\nimport dynamic from 'next/dynamic';\nimport s from './Layout.module.css';\nimport { useRouter } from 'next/router';\nimport React from 'react';\nimport { useUI } from '@components/ui/context';\nimport { Navbar, Footer } from '@components/common';\nimport { useAcceptCookies } from '@lib/hooks/useAcceptCookies';\nimport { Sidebar, Button, Modal, LoadingDots } from '@components/ui';\nimport CartSidebarView from '@components/cart/CartSidebarView';\nimport LoginView from '@components/auth/LoginView';\nimport { CommerceProvider } from '@framework';\n\nvar Loading = function Loading() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-80 h-80 flex items-center text-center justify-center p-3\",\n    children: /*#__PURE__*/_jsxDEV(LoadingDots, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 3\n  }, _this);\n};\n\n_c = Loading;\nvar dynamicProps = {\n  loading: function loading() {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 18\n    }, _this);\n  }\n};\nvar SignUpView = dynamic(_c2 = function _c2() {\n  return import('@components/auth/SignUpView');\n}, dynamicProps);\n_c3 = SignUpView;\nvar ForgotPassword = dynamic(_c4 = function _c4() {\n  return import('@components/auth/ForgotPassword');\n}, dynamicProps);\n_c5 = ForgotPassword;\nvar FeatureBar = dynamic(_c6 = function _c6() {\n  return import('@components/common/FeatureBar');\n}, dynamicProps);\n_c7 = FeatureBar;\n\nvar Layout = function Layout(_ref) {\n  _s();\n\n  var children = _ref.children,\n      _ref$pageProps = _ref.pageProps,\n      commerceFeatures = _ref$pageProps.commerceFeatures,\n      pageProps = _objectWithoutProperties(_ref$pageProps, [\"commerceFeatures\"]);\n\n  var _useUI = useUI(),\n      displaySidebar = _useUI.displaySidebar,\n      displayModal = _useUI.displayModal,\n      closeSidebar = _useUI.closeSidebar,\n      closeModal = _useUI.closeModal,\n      modalView = _useUI.modalView;\n\n  var _useAcceptCookies = useAcceptCookies(),\n      acceptedCookies = _useAcceptCookies.acceptedCookies,\n      onAcceptCookies = _useAcceptCookies.onAcceptCookies;\n\n  var _useRouter = useRouter(),\n      _useRouter$locale = _useRouter.locale,\n      locale = _useRouter$locale === void 0 ? 'en-US' : _useRouter$locale;\n\n  return /*#__PURE__*/_jsxDEV(CommerceProvider, {\n    locale: locale,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn(s.root),\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"fit\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Footer, {\n        pages: pageProps.pages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Modal, {\n        open: displayModal,\n        onClose: closeModal,\n        children: [modalView === 'LOGIN_VIEW' && /*#__PURE__*/_jsxDEV(LoginView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 42\n        }, _this), modalView === 'SIGNUP_VIEW' && /*#__PURE__*/_jsxDEV(SignUpView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 43\n        }, _this), modalView === 'FORGOT_VIEW' && /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 43\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Sidebar, {\n        open: displaySidebar,\n        onClose: closeSidebar,\n        children: /*#__PURE__*/_jsxDEV(CartSidebarView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(FeatureBar, {\n        title: \"This site uses cookies to improve your experience. By clicking, you agree to our Privacy Policy.\",\n        hide: acceptedCookies,\n        action: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mx-5\",\n          onClick: function onClick() {\n            return onAcceptCookies();\n          },\n          children: \"Accept cookies\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Layout, \"7XPvX9Xk2/OsvIy/q5FsZfIkQpg=\", false, function () {\n  return [useUI, useAcceptCookies, useRouter];\n});\n\n_c8 = Layout;\nexport default Layout;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"Loading\");\n$RefreshReg$(_c2, \"SignUpView$dynamic\");\n$RefreshReg$(_c3, \"SignUpView\");\n$RefreshReg$(_c4, \"ForgotPassword$dynamic\");\n$RefreshReg$(_c5, \"ForgotPassword\");\n$RefreshReg$(_c6, \"FeatureBar$dynamic\");\n$RefreshReg$(_c7, \"FeatureBar\");\n$RefreshReg$(_c8, \"Layout\");","map":{"version":3,"sources":["/Users/thejmdw/workspace/websites/next-commerce-test/components/common/Layout/Layout.tsx"],"names":["cn","dynamic","s","useRouter","React","useUI","Navbar","Footer","useAcceptCookies","Sidebar","Button","Modal","LoadingDots","CartSidebarView","LoginView","CommerceProvider","Loading","dynamicProps","loading","SignUpView","ForgotPassword","FeatureBar","Layout","children","pageProps","commerceFeatures","displaySidebar","displayModal","closeSidebar","closeModal","modalView","acceptedCookies","onAcceptCookies","locale","root","pages"],"mappings":"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","sourcesContent":["import cn from 'classnames'\nimport dynamic from 'next/dynamic'\nimport s from './Layout.module.css'\nimport { useRouter } from 'next/router'\nimport React, { FC } from 'react'\nimport { useUI } from '@components/ui/context'\nimport { Navbar, Footer } from '@components/common'\nimport { useAcceptCookies } from '@lib/hooks/useAcceptCookies'\nimport { Sidebar, Button, Modal, LoadingDots } from '@components/ui'\nimport CartSidebarView from '@components/cart/CartSidebarView'\n\nimport LoginView from '@components/auth/LoginView'\nimport { CommerceProvider } from '@framework'\nimport type { Page } from '@framework/common/get-all-pages'\n\nconst Loading = () => (\n  <div className=\"w-80 h-80 flex items-center text-center justify-center p-3\">\n    <LoadingDots />\n  </div>\n)\n\nconst dynamicProps = {\n  loading: () => <Loading />,\n}\n\nconst SignUpView = dynamic(\n  () => import('@components/auth/SignUpView'),\n  dynamicProps\n)\n\nconst ForgotPassword = dynamic(\n  () => import('@components/auth/ForgotPassword'),\n  dynamicProps\n)\n\nconst FeatureBar = dynamic(\n  () => import('@components/common/FeatureBar'),\n  dynamicProps\n)\n\ninterface Props {\n  pageProps: {\n    pages?: Page[]\n    commerceFeatures: Record<string, boolean>\n  }\n}\n\nconst Layout: FC<Props> = ({\n  children,\n  pageProps: { commerceFeatures, ...pageProps },\n}) => {\n  const {\n    displaySidebar,\n    displayModal,\n    closeSidebar,\n    closeModal,\n    modalView,\n  } = useUI()\n  const { acceptedCookies, onAcceptCookies } = useAcceptCookies()\n  const { locale = 'en-US' } = useRouter()\n  return (\n    <CommerceProvider locale={locale}>\n      <div className={cn(s.root)}>\n        <Navbar />\n        <main className=\"fit\">{children}</main>\n        <Footer pages={pageProps.pages} />\n\n        <Modal open={displayModal} onClose={closeModal}>\n          {modalView === 'LOGIN_VIEW' && <LoginView />}\n          {modalView === 'SIGNUP_VIEW' && <SignUpView />}\n          {modalView === 'FORGOT_VIEW' && <ForgotPassword />}\n        </Modal>\n\n        <Sidebar open={displaySidebar} onClose={closeSidebar}>\n          <CartSidebarView />\n        </Sidebar>\n\n        <FeatureBar\n          title=\"This site uses cookies to improve your experience. By clicking, you agree to our Privacy Policy.\"\n          hide={acceptedCookies}\n          action={\n            <Button className=\"mx-5\" onClick={() => onAcceptCookies()}>\n              Accept cookies\n            </Button>\n          }\n        />\n      </div>\n    </CommerceProvider>\n  )\n}\n\nexport default Layout\n"]},"metadata":{},"sourceType":"module"}