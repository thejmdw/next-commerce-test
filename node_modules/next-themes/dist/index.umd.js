!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("next/head")):"function"==typeof define&&define.amd?define(["exports","react","next/head"],t):t((e=e||self).nextThemes={},e.react,e.NextHead)}(this,function(e,t,n){var r="default"in t?t.default:t;n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var o=t.createContext({}),a=t.memo(function(e){var t=e.forcedTheme,o=e.storageKey,a=e.attribute,i=e.enableSystem,m=e.defaultTheme,s=e.value,c=e.themes,u=function(e,t){var n=s?Object.values(s):c;s&&(e=s[e]||e);var r=t?e:"'"+e+"'";return"class"===a?"document.documentElement.classList.remove("+n.map(function(e){return"'"+e+"'"}).join(",")+")document.documentElement.classList.add("+r+")":"document.documentElement.setAttribute('"+a+"', "+r+")"};return r.createElement(n,null,r.createElement("script",t?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){"+u(t)+"}()"}}:i?{key:"next-themes-script",dangerouslySetInnerHTML:{__html:"!function(){try {var e=localStorage.getItem('"+o+"');if(!e)return localStorage.setItem('"+o+"','"+m+"'), void "+u(m)+';if("system"===e){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?'+u("dark")+":"+u("light")+"}else "+(s?"var x = "+JSON.stringify(s)+";":"")+u(s?"x[e]":"e",!0)+"}catch(e){}}()"}}:{key:"next-themes-script",dangerouslySetInnerHTML:{__html:'!function(){try{var t=localStorage.getItem("'+o+'");if(!t)return localStorage.setItem("'+o+'","'+m+'"),void '+u(m)+";"+(s?"var x = "+JSON.stringify(s)+";":"")+u(s?"x[t]":"t",!0)+"}catch(t){}}();"}}))}),i=function(e){if("undefined"!=typeof window)return localStorage.getItem(e)||void 0};e.ThemeProvider=function(e){var n=e.forcedTheme,m=e.disableTransitionOnChange,s=void 0!==m&&m,c=e.enableSystem,u=void 0===c||c,d=e.storageKey,l=void 0===d?"theme":d,f=e.themes,h=void 0===f?["light","dark"]:f,v=e.defaultTheme,y=void 0===v?"light":v,p=e.attribute,g=void 0===p?"data-theme":p,T=e.value,b=e.children,x=t.useState(function(){return i(l)}),S=x[0],w=x[1],E=t.useState(function(){return i(l)}),k=E[0],L=E[1],C=t.useCallback(function(e,t){void 0===t&&(t=!0);var n,r,o=T?Object.values(T):h,a=(null==T?void 0:T[e])||e,i=s?((r=document.createElement("style")).appendChild(document.createTextNode("*{-webkit-transition: none !important;-moz-transition: none !important;-o-transition: none !important;-ms-transition: none !important;transition: none !important}")),document.head.appendChild(r),function(){window.getComputedStyle(r),document.head.removeChild(r)}):null;t&&localStorage.setItem(l,e),"class"===g?((n=document.documentElement.classList).remove.apply(n,o),document.documentElement.classList.add(a)):document.documentElement.setAttribute(g,a),null==i||i()},[]),I=t.useCallback(function(e){var t=e.matches?"dark":"light";L(t),"system"===S&&C(t,!1)},[S]);t.useEffect(function(){if(u){var e=window.matchMedia("(prefers-color-scheme: dark)");return e.addListener(I),I(e),function(){return e.removeListener(I)}}},[I]);var O=t.useCallback(function(e){n||(C(e),w(e))},[]);return t.useEffect(function(){var e=function(e){"theme"===e.key&&O(e.newValue)};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}},[]),r.createElement(o.Provider,{value:{theme:S,setTheme:O,forcedTheme:n,resolvedTheme:"system"===S?k:S,themes:u?[].concat(h,["system"]):h,systemTheme:u?k:void 0}},r.createElement(a,{forcedTheme:n,storageKey:l,attribute:g,value:T,enableSystem:u,defaultTheme:y,themes:h}),b)},e.useTheme=function(){return t.useContext(o)}});
